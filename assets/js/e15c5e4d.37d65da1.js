"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[756],{394:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>q,contentTitle:()=>_,default:()=>A,frontMatter:()=>R,metadata:()=>$,toc:()=>P});var n=a(7462),l=a(7294),r=a(3905),i=a(2263);function o(e){const{siteConfig:t}=(0,i.Z)(),a=t.customFields.repoUrl||"";return l.createElement("a",{href:a,target:"_blank"},e.name)}var s=a(6010),u=a(2466),d=a(6550),p=a(1980),c=a(7392),m=a(12);function h(e){return function(e){return l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:l}}=e;return{value:t,label:a,attributes:n,default:l}}))}function b(e){const{values:t,children:a}=e;return(0,l.useMemo)((()=>{const e=t??h(a);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function f(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function v(e){let{queryString:t=!1,groupId:a}=e;const n=(0,d.k6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,p._X)(r),(0,l.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})}),[r,n])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,r=b(e),[i,o]=(0,l.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r}))),[s,u]=v({queryString:a,groupId:n}),[d,p]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,r]=(0,m.Nk)(a);return[n,(0,l.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:n}),c=(()=>{const e=s??d;return f({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{c&&o(c)}),[c]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!f({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),p(e)}),[u,p,r]),tabValues:r}}var k=a(2389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function w(e){let{className:t,block:a,selectedValue:r,selectValue:i,tabValues:o}=e;const d=[],{blockElementScrollPositionUntilNextRender:p}=(0,u.o5)(),c=e=>{const t=e.currentTarget,a=d.indexOf(t),n=o[a].value;n!==r&&(p(t),i(n))},m=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;t=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;t=d[a]??d[d.length-1];break}}t?.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":a},t)},o.map((e=>{let{value:t,label:a,attributes:i}=e;return l.createElement("li",(0,n.Z)({role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:c},i,{className:(0,s.Z)("tabs__item",y.tabItem,i?.className,{"tabs__item--active":r===t})}),a??t)})))}function N(e){let{lazy:t,children:a,selectedValue:n}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===n));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function x(e){const t=g(e);return l.createElement("div",{className:(0,s.Z)("tabs-container",y.tabList)},l.createElement(w,(0,n.Z)({},e,t)),l.createElement(N,(0,n.Z)({},e,t)))}function S(e){const t=(0,k.Z)();return l.createElement(x,(0,n.Z)({key:String(t)},e))}const E={tabItem:"tabItem_Ymn6"};function I(e){let{children:t,hidden:a,className:n}=e;return l.createElement("div",{role:"tabpanel",className:(0,s.Z)(E.tabItem,n),hidden:a},t)}var T=a(614);function V(e){}function C(e){}function O(e){return l.createElement(I,{default:e.default,value:e.value,label:e.label},l.createElement(S,null,l.Children.map(e.children,((t,a)=>{const n=t;return function(e){const{siteConfig:t}=(0,i.Z)();return e.powershell?l.createElement(I,{value:e.value,label:e.label,default:e.default},l.createElement(T.Z,{className:"shell",language:"powershell",title:"PowerShell"},`$VERSION = "${t.customFields.version}"; \`\n$BINARY = "${e.binary}"; \`\nNew-Item -ItemType Directory -Force -Path $env:ProgramFiles\\Pedersen\\bin; \`\nInvoke-WebRequest -OutFile $env:ProgramFiles\\Pedersen\\bin\\pedersen https://github.com/matteoarella/pedersen/releases/download/$VERSION/$BINARY`),l.createElement("br",null),"Then add ",l.createElement(T.Z,{className:"shell",language:"powershell"},"$env:ProgramFiles\\Pedersen\\bin")," to your",l.createElement(T.Z,{className:"shell",language:"powershell"},"$env:Path")," system variable."):l.createElement(I,{value:e.value,label:e.label,default:e.default},l.createElement(T.Z,{className:"shell",language:"bash",title:"sh / bash / zsh"},`VERSION=${t.customFields.version} \\\nBINARY=${e.binary} \\\ncurl -o /bin/pedersen https://github.com/matteoarella/pedersen/releases/download/$VERSION/$BINARY && \\\nchmod +x /bin/pedersen`))}({powershell:"windows"===e.value,...n.props})}))))}function L(e){let{children:t}=e;return l.createElement(S,null,l.Children.map(t,((e,t)=>O(e.props))))}const R={sidebar_position:1},_="Installation",$={unversionedId:"getting-started/installation",id:"getting-started/installation",title:"Installation",description:"This project provides both a Go module and a CLI tool.",source:"@site/docs/getting-started/01-installation.mdx",sourceDirName:"getting-started",slug:"/getting-started/installation",permalink:"/pedersen/getting-started/installation",draft:!1,editUrl:"https://github.com/MatteoArella/pedersen/tree/master/docs/docs/getting-started/01-installation.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"Getting started",permalink:"/pedersen/category/getting-started"},next:{title:"Reference",permalink:"/pedersen/category/reference"}},q={},P=[{value:"Go module",id:"go-module",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Dependencies",id:"dependencies",level:3},{value:"OpenSSL without headers (default)",id:"openssl-without-headers-default",level:4},{value:"OpenSSL with headers",id:"openssl-with-headers",level:4},{value:"CLI tool",id:"cli-tool",level:2}],D={toc:P},Z="wrapper";function A(e){let{components:t,...a}=e;return(0,r.kt)(Z,(0,n.Z)({},D,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"installation"},"Installation"),(0,r.kt)("p",null,"This project provides both a Go module and a CLI tool."),(0,r.kt)("h2",{id:"go-module"},"Go module"),(0,r.kt)("p",null,"In order to use the ",(0,r.kt)("inlineCode",{parentName:"p"},"pedersen")," package just do"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"go get github.com/matteoarella/pedersen\n")),(0,r.kt)("h3",{id:"requirements"},"Requirements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://go.dev/doc/install"},"Go")," version 1.17.x or above."),(0,r.kt)("li",{parentName:"ul"},"CGO enabled.")),(0,r.kt)("h3",{id:"dependencies"},"Dependencies"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"math/big")," package does not support constant-time operations so its usage for cryptographic operations is unsafe\nsince it may leak some sensitive information via timing-based side channel attacks.\nFor this reason the pedersen module provides its own implementation of ",(0,r.kt)("inlineCode",{parentName:"p"},"big.Int")," operations using OpenSSL library\nbindings under the hood (via cgo calls)."),(0,r.kt)("p",null,"As a consequence the OpenSSL library must be available in the system.\nSeveral versions of the OpenSSL library are supported and tested, namely 1.0.2, 1.1.0, 1.1.1 and 3.0.2."),(0,r.kt)("p",null,"The OpenSSL library can be provided in two ways, without or with the OpenSSL headers."),(0,r.kt)("h4",{id:"openssl-without-headers-default"},"OpenSSL without headers (default)"),(0,r.kt)("p",null,"By default the OpenSSL library is automatically loaded at runtime using ",(0,r.kt)("a",{parentName:"p",href:"https://man7.org/linux/man-pages/man3/dlopen.3.html"},"dlopen"),"\nin such a way that only the OpenSSL runtime library is needed.\nTherefore, dlopen's shared library search conventions applies here."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"libcrypto")," shared library file name varies among different platforms, so a best effort is done to find and load the right file:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The base name is always ",(0,r.kt)("inlineCode",{parentName:"li"},"libcrypto.so"),"."),(0,r.kt)("li",{parentName:"ul"},"Well-known version strings are appended to the base name, until the file is found, in the following order:\n",(0,r.kt)("inlineCode",{parentName:"li"},"3")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"1.1")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"11")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"111")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"1.0.2")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"1.0.0"),".")),(0,r.kt)("p",null,"This algorithm can be overridden by setting the environment variable ",(0,r.kt)("inlineCode",{parentName:"p"},"GO_OPENSSL_VERSION_OVERRIDE"),"\nto the desired version string.\nFor example, ",(0,r.kt)("inlineCode",{parentName:"p"},'GO_OPENSSL_VERSION_OVERRIDE="1.1.1k-fips"')," makes the runtime look for the shared library ",(0,r.kt)("inlineCode",{parentName:"p"},"libcrypto.so.1.1.1k-fips"),"\nbefore running the checks for well-known versions."),(0,r.kt)("h4",{id:"openssl-with-headers"},"OpenSSL with headers"),(0,r.kt)("p",null,"OpenSSL headers can be used to provide all the symbols that are needed.\nIf the Go tag ",(0,r.kt)("inlineCode",{parentName:"p"},"openssldev")," is provided, the module tries to load the OpenSSL library by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"pkg-config")," tool."),(0,r.kt)("p",null,"This case is mandatory in case of using this module for building a statically linked binary."),(0,r.kt)("h2",{id:"cli-tool"},"CLI tool"),(0,r.kt)("p",null,"Download from the ",(0,r.kt)(o,{name:"Releases page",mdxType:"RepoUrl"})," the correct binary for your target platform and install it."),(0,r.kt)(L,{mdxType:"BinariesTabs"},(0,r.kt)(C,{value:"macos",label:"MacOS",mdxType:"Platform"},(0,r.kt)(V,{value:"macos-amd64",label:"amd64",binary:"pedersen-darwin-x86_64",default:!0,mdxType:"Variant"}),(0,r.kt)(V,{value:"macos-arm64",label:"arm64",binary:"pedersen-darwin-arm64",mdxType:"Variant"})),(0,r.kt)(C,{value:"linux",label:"Linux",default:!0,mdxType:"Platform"},(0,r.kt)(V,{value:"linux-amd64",label:"amd64",binary:"pedersen-linux-x86_64",default:!0,mdxType:"Variant"}),(0,r.kt)(V,{value:"linux-aarch64",label:"aarch64",binary:"pedersen-linux-aarch64",mdxType:"Variant"}),(0,r.kt)(V,{value:"linux-armv6",label:"arm/v6",binary:"pedersen-linux-armv6",mdxType:"Variant"}),(0,r.kt)(V,{value:"linux-armv7",label:"arm/v7",binary:"pedersen-linux-armv7",mdxType:"Variant"}),(0,r.kt)(V,{value:"linux-ppc64le",label:"ppc64le",binary:"pedersen-linux-ppc64le",mdxType:"Variant"}),(0,r.kt)(V,{value:"linux-riscv64",label:"riscv64",binary:"pedersen-linux-riscv64",mdxType:"Variant"}),(0,r.kt)(V,{value:"linux-s390x",label:"s390x",binary:"pedersen-linux-s390x",mdxType:"Variant"})),(0,r.kt)(C,{value:"windows",label:"Windows",mdxType:"Platform"},(0,r.kt)(V,{value:"windows-amd64",label:"amd64",binary:"pedersen-windows-x86_64.exe",default:!0,mdxType:"Variant"}))))}A.isMDXComponent=!0}}]);